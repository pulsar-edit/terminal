{"version":3,"file":"pty.js","sources":["../src/pty.ts"],"sourcesContent":[null],"names":["path","CompositeDisposable","Emitter","ndjson","Config","timeout","__classPrivateFieldGet","isWindows","spawn"],"mappings":"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"}